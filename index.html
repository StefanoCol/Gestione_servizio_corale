<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" type="text/css" href="style.css">
        <link href='http://fonts.googleapis.com/css?family=Gafata' rel='stylesheet' type='text/css'>
        <title></title>
        
        <script lang="javascript">

            function playDate(id) {

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("data").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "showChoirOR.php?idDate=" + id, true);
                xmlhttp.send();
            }

            function playDateII(type) {
                idDate = document.getElementById("idDate").value;

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("data").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "playDateII.php?type=" + type + "&idDate=" + idDate, true);
                xmlhttp.send();
            }

            function playDateIII(choir, typ) {
                idDate = document.getElementById("idDate").value;

                if (typ == 'C') {
                    text = "Iserisci la password qui: <input type='password' name='txtPassword' id='txtPassword'><br /><br />";
                    text += "<div><input type= 'button' onclick='javascript:playDateIV()' value='conferma'></div>"
                    text += "<input type='hidden' id='idDate' name='idDate' value='" + idDate + "'>";
                    document.getElementById("cont").innerHTML = text;
                } else {
                    var xmlhttp = new XMLHttpRequest();
                    xmlhttp.onreadystatechange = function () {
                        if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                            document.getElementById("data").innerHTML = xmlhttp.responseText;
                        }
                    }
                    xmlhttp.open("GET", "showMembers.php?type=" + typ + "&idDate=" + idDate + "&choirId=" + choir, true);
                    xmlhttp.send();
                }

            }

            function playDateIV(choirName) {

                idDate = document.getElementById("idDate").value;

                password = document.getElementById("txtPassword").value;
                choirName = document.getElementById("slcChoir").value;

                //alert(password);

                text = choirName + " " + password;

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("data").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "playDateIII.php?choirName=" + choirName + "&password=" + password + "&idDataServizio=" + idDate, true);
                xmlhttp.send();

            }

            function showDate() {

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                document.getElementById("contenutomS").innerHTML = "Visualizza le date da coprire";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("data").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "showDate.php");
                xmlhttp.send();
            }

            function insertChoir() {

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                document.getElementById("contenutomS").innerHTML = "Inserisci un Coro";

                content = '<div class="inputChoir">nome:</div><div class="inputChoir"><input type="text" name="txtName" id="txtName"></div><br style="clear: both;"/>'
                content += '<div class="inputChoir">password: </div><div class="inputChoir"><input type="text" name="txtPassword" id="txtPassword"></div><br style="clear: both;"/>'
                content += '<div>La password servir√† per agiungere elementi al coro o per coprire le date</div>'
                content += '<div class="inputChoirButton"><input type="button" name="btnEnter" value="Invia" onClick = "javascript:submitChoir()"></div>';

                document.getElementById("data").innerHTML = content;
            }

            function submitChoir() {

                name = document.getElementById("txtName").value;
                password = document.getElementById("txtPassword").value;

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("cont").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "insertChoir.php?txtName=" + name + "&txtPassword=" + password, true);
                xmlhttp.send();
            }

            function sxMenu(id) {
                document.getElementById(id.substring(0, 5)).className = 'menuSxVisible';
            }


            function stay(id) {
                document.getElementById(id).className = 'menuSxVisible';
            }

            function sxMenu1stop(id) {
                document.getElementById(id).className = "";
                document.getElementById(id).className = "none";
            }

        </script>
        
    </head>
    <body>
        <div id="title">
            <h1>Gestione servizio corale</h1>
        </div>
        
        
        <div id="menuSopra">
            <div id="contenutomS">
                Menu
            </div>
        </div>

        <div>
            <div id="ContenitoreContenuto">
                <div id="Contenuto">
                    <p id="data" class="WithPadding"></p>
                    <p id="cont" class="WithPadding"></p>
                </div>
            </div>

            

            <div id="menuSinistra">
               
            </div>

            <div class="menuSinistraComparsa" >
                   <ul id="nav">
                       <li style="width: 70px;">
                           <div class="ulTitle1" onmouseout="javascript:sxMenu1stop('menu1')" onmouseover="javascript:sxMenu('menu1')"><a onmouseover="javascript:sxMenu(this.id)" id="menu1A"><strong>Date</strong></a></div>
                           <ul id ="menu1" class="none" onmouseover="javascript:stay(this.id)" onmouseout="javascript:sxMenu1stop(this.id)" onclick="javascript:sxMenu1stop('menu1')">               
                                <li><a href="javascript:showDate()">Visualizza date da coprire</a></li>
                                <li><a href="#">Iserisci nuova data</a></li>
                           </ul>
                       </li>
                        <li>
                            <div class="ulTitle2" onmouseout="javascript:sxMenu1stop('menu2')" onmouseover="javascript:sxMenu('menu2')"><a onmouseover="javascript:sxMenu(this.id)" id="menu2A"><strong>Cori/Solisti</strong></a></div>
                            <ul id="menu2" class="none" onmouseover="javascript:stay(this.id)" onmouseout="javascript:sxMenu1stop(this.id)" onclick="javascript:sxMenu1stop('menu2')">               
                                <li><a href="javascript:insertChoir()">Inserisci Coro</a></li>
                           </ul>
                        </li>
                    </ul>
                </div>

        </div>
    </body>
</html>
