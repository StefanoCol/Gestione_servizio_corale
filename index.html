<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="stylesheet" type="text/css" href="style.css">
        <link href='http://fonts.googleapis.com/css?family=Gafata' rel='stylesheet' type='text/css'>
        <title></title>
        
        <script lang="javascript">

            function playDate(id) {

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("data").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "showChoirOR.php?idDate=" + id, true);
                xmlhttp.send();
            }

            function playDateII(type) {
                idDate = document.getElementById("idDate").value;

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("data").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "playDateII.php?type=" + type + "&idDate=" + idDate, true);
                xmlhttp.send();
            }

            function playDateIII(choir) {
                idDate = document.getElementById("idDate").value;

                text = "Iserisci la password qui: <input type='password' name='txtPassword' id='txtPassword'><br /><br />";
                text += "<div><input type= 'button' onclick='javascript:playDateIV()' value='conferma'></div>"
                text += "<input type='hidden' id='idDate' name='idDate' value='" + idDate + "'>";

                document.getElementById("cont").innerHTML = text;

            }

            function playDateIV(choirName) {

                idDate = document.getElementById("idDate").value;

                password = document.getElementById("txtPassword").value;
                choirName = document.getElementById("slcChoir").value;

                //alert(password);

                text = choirName + " " + password;

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("data").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "playDateIII.php?choirName=" + choirName + "&password=" + password + "&idDataServizio=" + idDate, true);
                xmlhttp.send();

            }

            function showDate() {

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                document.getElementById("contenutomS").innerHTML = "Visualizza le date da coprire";

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("data").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "showDate.php");
                xmlhttp.send();
            }

            function insertChoir() {

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                document.getElementById("contenutomS").innerHTML = "Inserisci un Coro";

                content = '<div class="inputChoir">nome:</div><div class="inputChoir"><input type="text" name="txtName" id="txtName"></div><br style="clear: both;"/>'
                content += '<div class="inputChoir">password: </div><div class="inputChoir"><input type="text" name="txtPassword" id="txtPassword"></div><br style="clear: both;"/>'
                content += '<div>La password servir√† per agiungere elementi al coro o per coprire le date</div>'
                content += '<div class="inputChoirButton"><input type="button" name="btnEnter" value="Invia" onClick = "javascript:submitChoir()"></div>';

                document.getElementById("data").innerHTML = content;
            }

            function submitChoir() {

                document.getElementById("cont").innerHTML = "";
                document.getElementById("data").innerHTML = "";

                name = document.getElementById("txtName").value;
                password = document.getElementById("txtPassword").value;

                var xmlhttp = new XMLHttpRequest();
                xmlhttp.onreadystatechange = function () {
                    if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                        document.getElementById("cont").innerHTML = xmlhttp.responseText;
                    }
                }
                xmlhttp.open("GET", "insertChoir.php?txtName=" + name + "&txtPassword=" + password, true);
                xmlhttp.send();
            }

        </script>
        
    </head>
    <body>
        <div id="title">
            <h1>Gestione servizio corale</h1>
        </div>
        
        
        <div id="menuSopra">
            <div id="contenutomS">
                Menu
            </div>
        </div>

        <div>
            <div id="ContenitoreContenuto">
                <div id="Contenuto">
                    <p id="data" class="WithPadding"></p>
                    <p id="cont" class="WithPadding"></p>
                </div>
            </div>

            

            <div id="menuSinistra">
               
            </div>

            <div class="menuSinistraComparsa">
                   <ul id="nav">
                       <li>
                           <div class="ulTitle1"><a><strong>Date</strong></a></div>
                           <ul>               
                                <li><a href="javascript:showDate()">Visualizza date da coprire</a></li>
                                <li><a href="#">Iserisci nuova data</a></li>
                           </ul>
                       </li>
                        <li>
                            <div class="ulTitle2"><a><strong>Cori/Solisti</strong></a></div>
                            <ul>               
                                <li><a href="javascript:insertChoir()">Inserisci Coro</a></li>
                           </ul>
                        </li>
                    </ul>
                </div>

        </div>
    </body>
</html>
